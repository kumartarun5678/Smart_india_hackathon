{"ast":null,"code":"var _jsxFileName = \"/Users/tarunkumar/Documents/iNoteBOOK/src/components/Notes.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useEffect, useRef, useState } from 'react';\nimport noteContext from \"../context/notes/noteContext.js\";\nimport Noteitem from './Noteitem.js';\nimport AddNote from './AddNote.js';\nimport SearchForm from './SearchForm.js';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Notes = props => {\n  _s();\n  const context = useContext(noteContext);\n  const {\n    notes,\n    getNotes,\n    editNote\n  } = context;\n  let navigate = useNavigate();\n\n  // Add a state variable to control form visibility and buses section visibility\n  const [showForm, setShowForm] = useState(false);\n  const [showBusesSection, setShowBusesSection] = useState(true);\n  useEffect(() => {\n    if (localStorage.getItem('token')) {\n      getNotes();\n    } else {\n      navigate('/login');\n    }\n    // eslint-disable-next-line\n  }, []);\n  const ref = useRef(null);\n  const refClose = useRef(null);\n\n  // Initialize the note state with empty values\n  const [note, setNote] = useState({\n    id: \"\",\n    estart: \"\",\n    eend: \"\",\n    etitle: \"\",\n    edescription: \"\",\n    etag: \"\"\n  });\n  const updateNote = currentNote => {\n    ref.current.click();\n\n    // Make sure to handle the case where etitle might be missing\n    const {\n      _id,\n      estart,\n      eend,\n      etitle,\n      edescription,\n      etag\n    } = currentNote;\n    setNote({\n      id: _id,\n      estart: estart || \"\",\n      eend: eend || \"\",\n      etitle: etitle || \"\",\n      edescription: edescription,\n      etag: etag || \"\"\n    });\n  };\n  const handleClick = e => {\n    editNote(note.id, note.estart, note.eend, note.etitle, note.edescription, note.etag);\n    refClose.current.click();\n  };\n  const onChange = e => {\n    setNote({\n      ...note,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  // Function to toggle the form visibility\n  const toggleForm = () => {\n    setShowForm(!showForm);\n  };\n\n  // Function to toggle the buses section visibility\n  const toggleBusesSection = () => {\n    setShowBusesSection(!showBusesSection);\n  };\n\n  // Define the handleSearchResult function in your Notes component\n  const handleSearchResult = filteredItems => {\n    // Use the filteredItems in your component's state or wherever you want to display them\n    console.log(filteredItems);\n    // Update your state or do other actions with the filtered items\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(SearchForm, {\n      items: notes,\n      onSearch: handleSearchResult\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      className: \"btn btn-primary\",\n      onClick: toggleForm,\n      children: showForm ? 'Hide' : 'Add Bus'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      className: \"btn btn-primary mx-2\",\n      onClick: toggleBusesSection,\n      children: showBusesSection ? 'Hide Buses' : 'Show Buses'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this), showForm && /*#__PURE__*/_jsxDEV(AddNote, {\n      showAlert: props.showAlert\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 26\n    }, this), showBusesSection && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row my-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Your Buses\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container mx-2\",\n        children: notes.length === 0 && 'No buses to display'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 21\n      }, this), notes.map(note => {\n        return /*#__PURE__*/_jsxDEV(Noteitem, {\n          updateNote: updateNote,\n          note: note\n        }, note._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 32\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true);\n};\n_s(Notes, \"q+VrSkC/VD8pvbF2iauOHJ6nSR4=\", false, function () {\n  return [useNavigate];\n});\n_c = Notes;\nexport default Notes;\nvar _c;\n$RefreshReg$(_c, \"Notes\");","map":{"version":3,"names":["React","useContext","useEffect","useRef","useState","noteContext","Noteitem","AddNote","SearchForm","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","Notes","props","_s","context","notes","getNotes","editNote","navigate","showForm","setShowForm","showBusesSection","setShowBusesSection","localStorage","getItem","ref","refClose","note","setNote","id","estart","eend","etitle","edescription","etag","updateNote","currentNote","current","click","_id","handleClick","e","onChange","target","name","value","toggleForm","toggleBusesSection","handleSearchResult","filteredItems","console","log","children","items","onSearch","fileName","_jsxFileName","lineNumber","columnNumber","type","className","onClick","showAlert","length","map","_c","$RefreshReg$"],"sources":["/Users/tarunkumar/Documents/iNoteBOOK/src/components/Notes.js"],"sourcesContent":["import React, { useContext, useEffect, useRef, useState } from 'react';\nimport noteContext from \"../context/notes/noteContext.js\";\nimport Noteitem from './Noteitem.js';\nimport AddNote from './AddNote.js';\nimport SearchForm from './SearchForm.js';\nimport { useNavigate } from 'react-router-dom';\n\nconst Notes = (props) => {\n    const context = useContext(noteContext);\n    const { notes, getNotes, editNote } = context;\n    let navigate = useNavigate();\n\n    // Add a state variable to control form visibility and buses section visibility\n    const [showForm, setShowForm] = useState(false);\n    const [showBusesSection, setShowBusesSection] = useState(true);\n\n    useEffect(() => {\n        if (localStorage.getItem('token')) {\n            getNotes();\n        } else {\n            navigate('/login');\n        }\n        // eslint-disable-next-line\n    }, []);\n\n    const ref = useRef(null);\n    const refClose = useRef(null);\n\n    // Initialize the note state with empty values\n    const [note, setNote] = useState({ id: \"\", estart:\"\", eend:\"\", etitle: \"\", edescription: \"\", etag: \"\" });\n\n    const updateNote = (currentNote) => {\n        ref.current.click();\n\n        // Make sure to handle the case where etitle might be missing\n        const { _id, estart, eend, etitle, edescription, etag } = currentNote;\n        setNote({ id: _id, estart: estart || \"\", eend: eend || \"\", etitle: etitle || \"\", edescription: edescription, etag: etag || \"\" });\n    }\n\n    const handleClick = (e) => {\n        editNote(note.id, note.estart, note.eend, note.etitle, note.edescription, note.etag);\n        refClose.current.click();\n    }\n\n    const onChange = (e) => {\n        setNote({ ...note, [e.target.name]: e.target.value });\n    }\n\n    // Function to toggle the form visibility\n    const toggleForm = () => {\n        setShowForm(!showForm);\n    }\n\n    // Function to toggle the buses section visibility\n    const toggleBusesSection = () => {\n        setShowBusesSection(!showBusesSection);\n    }\n\n    // Define the handleSearchResult function in your Notes component\n    const handleSearchResult = (filteredItems) => {\n        // Use the filteredItems in your component's state or wherever you want to display them\n        console.log(filteredItems);\n        // Update your state or do other actions with the filtered items\n    };\n\n    return (\n        <>\n            <SearchForm items={notes} onSearch={handleSearchResult} />\n            {/* Add/Edit Bus button */}\n            <button\n                type=\"button\"\n                className=\"btn btn-primary\"\n                onClick={toggleForm}\n            >\n                {showForm ? 'Hide' : 'Add Bus'}\n            </button>\n\n            {/* Toggle Buses Section button */}\n            <button\n                type=\"button\"\n                className=\"btn btn-primary mx-2\"\n                onClick={toggleBusesSection}\n            >\n                {showBusesSection ? 'Hide Buses' : 'Show Buses'}\n            </button>\n\n            {/* AddNote component is conditionally rendered */}\n            {showForm && <AddNote showAlert={props.showAlert} />}\n\n            {/* Modal for editing a bus */}\n            {/* ... Modal code ... */}\n\n            {/* Buses Section */}\n            {showBusesSection && (\n                <div className=\"row my-3\">\n                    <h2>Your Buses</h2>\n                    <div className=\"container mx-2\">\n                        {notes.length === 0 && 'No buses to display'}\n                    </div>\n                    {notes.map((note) => {\n                        return <Noteitem key={note._id} updateNote={updateNote} note={note} />;\n                    })}\n                </div>\n            )}\n        </>\n    );\n}\n\nexport default Notes;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}